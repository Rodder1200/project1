window.royalEv={},function(){var e={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isName:function(e){return/[\wа-я]+/gi.test(e)},isMsg:function(e){return/[\wа-я]+/gi.test(e)},isEmpty:function(e){return!!e}};royalEv.valid=e}(),function(){var t={},r=document.querySelector(".hero"),o=document.querySelectorAll(".points");function n(e){switch(e.preventDefault(),t.stop=!0,a(),e.target.className){case"points point0":r.style.background=t.bgs[0],e.target.classList.add("active");break;case"points point1":r.style.background=t.bgs[1],e.target.classList.add("active");break;case"points point2":r.style.background=t.bgs[2],e.target.classList.add("active");break;case"points point3":r.style.background=t.bgs[3],e.target.classList.add("active")}}function e(){t.counter<4&&!t.stop?(a(),r.style.background=t.bgs[t.counter],o[t.counter].classList.add("active"),t.counter++):t.stop||(a(),t.counter=1,r.style.background=t.bgs[0],o[0].classList.add("active")),t.carouselStart()}function a(){for(var e=0;e<o.length;e++)o[e].classList.remove("active")}t.bgs=["url('./images/bg1.jpg') center/cover no-repeat","url('./images/bg2.jpg') center/cover no-repeat","url('./images/bg3.jpg') center/cover no-repeat","url('./images/bg4.jpg') center/cover no-repeat"],t.counter=1,t.stop=!1,t.sliderSpeed=5e3,t.onPoint=function(){o[0].classList.add("active");for(var e=0;e<o.length;e++)o[e].addEventListener("click",n)},t.carouselStart=function(){t.stop||setTimeout(e,t.sliderSpeed)},t.carouselStop=function(){clearTimeout(t.CarouselStart)},royalEv.hero=t}(),function(){var n={},e=[].slice.call(document.querySelectorAll('a[href*="#"]'));n.animationTime=500,n.framesCount=100,n.start=e.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(o.getAttribute("href")).getBoundingClientRect().top,r=setInterval(function(){var e=t/n.framesCount;e>window.pageYOffset-t&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,t),clearInterval(r))},n.animationTime/n.framesCount)})}),royalEv.scroll=n}(),function(){var e={},t=document.querySelector(".nav_button");nav=document.querySelector(".nav"),e.open=function(){t.addEventListener("click",function(){nav.classList.toggle("nav_show"),"nav nav_show"==nav.className&&nav.addEventListener("click",function(){nav.classList.remove("nav_show")})})},royalEv.mobile=e}(),function(){var n={},e=document.querySelectorAll('[data-valid="required"]'),t=document.querySelectorAll(".contacts__item"),r=document.querySelector("form"),a=document.querySelector("[type=email]"),l=document.querySelector("input[type=text]"),s=document.querySelector("textarea");n.alertSuccess="Your message has been successfully sent.",n.alertFail="All fields must be filled out",n.failBorderStyle="1px solid #FA8072",n.successBorderStyle="1px solid green",n.onLoad=function(){n.onSubmit(),n.setCustomValidity(),n.onBlur()},n.onSubmit=function(){r.addEventListener("submit",n.isValid)},n.setCustomValidity=function(){for(var e=0;e<t.length;e++)t[e].addEventListener("invalid",function(e){e.target.setCustomValidity(""),e.target.validity.valid||e.target.setCustomValidity("Please fill out this field correctly.")}),t[e].addEventListener("input",function(e){e.target.setCustomValidity("")})},n.onBlur=function(){for(var e=0;e<t.length;e++)t[e].addEventListener("blur",function(e){var t=royalEv.valid.isEmail(e.target.value),r=royalEv.valid.isName(e.target.value),o=royalEv.valid.isMsg(e.target.value);e.target.style.border="",e.target==a&&t?e.target.style.border=n.successBorderStyle:e.target==l&&r?e.target.style.border=n.successBorderStyle:e.target==s&&o?e.target.style.border=n.successBorderStyle:""==e.target.value?e.target.style.border="":e.target.style.border=n.failBorderStyle})},n.isValid=function(){n.isAllCompleted(e)?(alert(n.alertSuccess),n.clearForm()):alert(n.alertFail)},n.isAllCompleted=function(e){for(var t=!0,r=0;r<e.length;r++)if(!royalEv.valid.isEmpty(e[r].value)){t=!1;break}return royalEv.valid.isEmail(a.value)||(t=!1),royalEv.valid.isName(l.value)||(t=!1),royalEv.valid.isMsg(s.value)||(t=!1),t},n.clearForm=function(){for(var e=0;e<t.length;e++)t[e].value="",t[e].style.border=""},royalEv.formContact=n}(),function(){var e={},t=document.querySelector("#testiNext"),r=document.querySelector("#testiPrev"),o=document.querySelectorAll(".testi__quote"),n=(document.querySelector(".testi__item"),document.querySelector(".testi__image")),a=document.querySelectorAll(".testi__author");e.bgs=["#fff url('./images/testi_item_image.png') center/cover no-repeat","#fff url('./images/jobs.png') center/cover no-repeat","#fff url('./images/gates.png') center/cover no-repeat","#fff url('./images/zuckerberg.png') center/cover no-repeat","#fff url('./images/bezos.png') center/cover no-repeat"],e.counter=0,e.goNextTesti=function(){t.addEventListener("click",function(){e.counter<o.length-1?(o[e.counter].style.display="none",a[e.counter].style.display="none",o[e.counter+1].style.display="block",a[e.counter+1].style.display="block",n.style.background=e.bgs[e.counter+1],e.counter++):(o[o.length-1].style.display="none",a[a.length-1].style.display="none",e.counter=0,o[e.counter].style.display="block",a[e.counter].style.display="block",n.style.background=e.bgs[e.counter])})},e.goPrevTesti=function(){r.addEventListener("click",function(){0<e.counter?(o[e.counter].style.display="none",a[e.counter].style.display="none",o[e.counter-1].style.display="block",a[e.counter-1].style.display="block",n.style.background=e.bgs[e.counter-1],e.counter--):(o[e.counter].style.display="none",a[e.counter].style.display="none",e.counter=4,o[o.length-1].style.display="block",a[o.length-1].style.display="block",n.style.background=e.bgs[o.length-1])})},royalEv.testi=e}(),royalEv.hero.onPoint(),royalEv.hero.carouselStart(),royalEv.scroll.start,royalEv.mobile.open(),royalEv.formContact.onLoad(),royalEv.testi.goNextTesti(),royalEv.testi.goPrevTesti();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9pbml0LmpzIiwiX3ZhbGlkYXRpb24uanMiLCJfaGVyby5qcyIsIl9zY3JvbGxpbmcuanMiLCJfbW9iaWxlX21lbnUuanMiLCJfZm9ybS5qcyIsIl90ZXN0aS5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwicm95YWxFdiIsIm1lIiwiaXNFbWFpbCIsImVtYWlsIiwidGVzdCIsImlzTmFtZSIsIm5hbWUiLCJpc01zZyIsIm1zZyIsImlzRW1wdHkiLCJzdHIiLCJ2YWxpZCIsImhlcm8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwb2ludHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2hhbmdlQmciLCJlIiwicHJldmVudERlZmF1bHQiLCJzdG9wIiwiY2xlYXJBY3RpdmUiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmQiLCJiZ3MiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRUaW1lciIsImNvdW50ZXIiLCJjYXJvdXNlbFN0YXJ0IiwiaSIsImxlbmd0aCIsInJlbW92ZSIsInNsaWRlclNwZWVkIiwib25Qb2ludCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRUaW1lb3V0IiwiY2Fyb3VzZWxTdG9wIiwiY2xlYXJUaW1lb3V0IiwiQ2Fyb3VzZWxTdGFydCIsImFuY2hvcnMiLCJzbGljZSIsImNhbGwiLCJhbmltYXRpb25UaW1lIiwiZnJhbWVzQ291bnQiLCJzdGFydCIsImZvckVhY2giLCJpdGVtIiwiY29vcmRZIiwiZ2V0QXR0cmlidXRlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwic2Nyb2xsZXIiLCJzZXRJbnRlcnZhbCIsInNjcm9sbEJ5IiwicGFnZVlPZmZzZXQiLCJpbm5lckhlaWdodCIsImJvZHkiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxUbyIsImNsZWFySW50ZXJ2YWwiLCJzY3JvbGwiLCJidXR0b24iLCJuYXYiLCJvcGVuIiwidG9nZ2xlIiwibW9iaWxlIiwicmVxdWlyZWRGaWVsZHMiLCJhbGxGaWVsZHMiLCJmb3JtIiwiYWxlcnRTdWNjZXNzIiwiYWxlcnRGYWlsIiwiZmFpbEJvcmRlclN0eWxlIiwic3VjY2Vzc0JvcmRlclN0eWxlIiwib25Mb2FkIiwib25TdWJtaXQiLCJzZXRDdXN0b21WYWxpZGl0eSIsIm9uQmx1ciIsImlzVmFsaWQiLCJ2YWxpZGl0eSIsImVtYWlsVHJ1ZSIsInZhbHVlIiwibmFtZVRydWUiLCJtc2dUcnVlIiwiYm9yZGVyIiwiaXNBbGxDb21wbGV0ZWQiLCJhbGVydCIsImNsZWFyRm9ybSIsImRhdGEiLCJyZXN1bHQiLCJmb3JtQ29udGFjdCIsIm5leHQiLCJwcmV2IiwicXVvdGVzIiwiaW1hZ2UiLCJhdXRob3IiLCJnb05leHRUZXN0aSIsImRpc3BsYXkiLCJnb1ByZXZUZXN0aSIsInRlc3RpIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBQUMsUUFBQSxHQ0FBLFdBQ0EsSUFBQUMsRUFBQSxDQUVBQyxRQUFBLFNBQUFDLEdBRUEsTUFEQSx5SkFDQUMsS0FBQUQsSUFHQUUsT0FBQSxTQUFBQyxHQUVBLE1BREEsYUFDQUYsS0FBQUUsSUFHQUMsTUFBQSxTQUFBQyxHQUVBLE1BREEsYUFDQUosS0FBQUksSUFHQUMsUUFBQSxTQUFBQyxHQUNBLFFBQUFBLElBR0FWLFFBQUFXLE1BQUFWLEVBdEJBLEdDQUEsV0FDQSxJQUFBQSxFQUFBLEdBQ0FXLEVBQUFDLFNBQUFDLGNBQUEsU0FDQUMsRUFBQUYsU0FBQUcsaUJBQUEsV0FvQkEsU0FBQUMsRUFBQUMsR0FJQSxPQUhBQSxFQUFBQyxpQkFDQWxCLEVBQUFtQixNQUFBLEVBQ0FDLElBQ0FILEVBQUFJLE9BQUFDLFdBQ0EsSUFBQSxnQkFDQVgsRUFBQVksTUFBQUMsV0FBQXhCLEVBQUF5QixJQUFBLEdBQ0FSLEVBQUFJLE9BQUFLLFVBQUFDLElBQUEsVUFDQSxNQUNBLElBQUEsZ0JBQ0FoQixFQUFBWSxNQUFBQyxXQUFBeEIsRUFBQXlCLElBQUEsR0FDQVIsRUFBQUksT0FBQUssVUFBQUMsSUFBQSxVQUNBLE1BQ0EsSUFBQSxnQkFDQWhCLEVBQUFZLE1BQUFDLFdBQUF4QixFQUFBeUIsSUFBQSxHQUNBUixFQUFBSSxPQUFBSyxVQUFBQyxJQUFBLFVBQ0EsTUFDQSxJQUFBLGdCQUNBaEIsRUFBQVksTUFBQUMsV0FBQXhCLEVBQUF5QixJQUFBLEdBQ0FSLEVBQUFJLE9BQUFLLFVBQUFDLElBQUEsV0FlQSxTQUFBQyxJQUNBNUIsRUFBQTZCLFFBQUEsSUFBQTdCLEVBQUFtQixNQUNBQyxJQUNBVCxFQUFBWSxNQUFBQyxXQUFBeEIsRUFBQXlCLElBQUF6QixFQUFBNkIsU0FDQWYsRUFBQWQsRUFBQTZCLFNBQUFILFVBQUFDLElBQUEsVUFDQTNCLEVBQUE2QixXQUNBN0IsRUFBQW1CLE9BQ0FDLElBQ0FwQixFQUFBNkIsUUFBQSxFQUNBbEIsRUFBQVksTUFBQUMsV0FBQXhCLEVBQUF5QixJQUFBLEdBQ0FYLEVBQUEsR0FBQVksVUFBQUMsSUFBQSxXQUdBM0IsRUFBQThCLGdCQUdBLFNBQUFWLElBQ0EsSUFBQSxJQUFBVyxFQUFBLEVBQUFBLEVBQUFqQixFQUFBa0IsT0FBQUQsSUFDQWpCLEVBQUFpQixHQUFBTCxVQUFBTyxPQUFBLFVBdEVBakMsRUFBQXlCLElBQUEsQ0FDQSxpREFDQSxpREFDQSxpREFDQSxrREFFQXpCLEVBQUE2QixRQUFBLEVBQ0E3QixFQUFBbUIsTUFBQSxFQUNBbkIsRUFBQWtDLFlBQUEsSUFFQWxDLEVBQUFtQyxRQUFBLFdBQ0FyQixFQUFBLEdBQUFZLFVBQUFDLElBQUEsVUFFQSxJQUFBLElBQUFJLEVBQUEsRUFBQUEsRUFBQWpCLEVBQUFrQixPQUFBRCxJQUNBakIsRUFBQWlCLEdBQUFLLGlCQUFBLFFBQUFwQixJQTRCQWhCLEVBQUE4QixjQUFBLFdBQ0E5QixFQUFBbUIsTUFDQWtCLFdBQUFULEVBQUE1QixFQUFBa0MsY0FJQWxDLEVBQUFzQyxhQUFBLFdBQ0FDLGFBQUF2QyxFQUFBd0MsZ0JBeUJBekMsUUFBQVksS0FBQVgsRUEvRUEsR0NBQSxXQUNBLElBQUFBLEVBQUEsR0FDQXlDLEVBQUEsR0FBQUMsTUFBQUMsS0FBQS9CLFNBQUFHLGlCQUFBLGlCQUVBZixFQUFBNEMsY0FBQSxJQUNBNUMsRUFBQTZDLFlBQUEsSUFFQTdDLEVBQUE4QyxNQUFBTCxFQUFBTSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFaLGlCQUFBLFFBQUEsU0FBQW5CLEdBQ0FBLEVBQUFDLGlCQUNBLElBQUErQixFQUFBckMsU0FBQUMsY0FBQW1DLEVBQUFFLGFBQUEsU0FBQUMsd0JBQUFDLElBQ0FDLEVBQUFDLFlBQUEsV0FDQSxJQUFBQyxFQUFBTixFQUFBakQsRUFBQTZDLFlBRUFVLEVBQUF6RCxPQUFBMEQsWUFBQVAsR0FBQW5ELE9BQUEyRCxZQUFBM0QsT0FBQTBELFlBQUE1QyxTQUFBOEMsS0FBQUMsYUFDQTdELE9BQUF5RCxTQUFBLEVBQUFBLElBRUF6RCxPQUFBOEQsU0FBQSxFQUFBWCxHQUNBWSxjQUFBUixLQUVBckQsRUFBQTRDLGNBQUE1QyxFQUFBNkMsaUJBR0E5QyxRQUFBK0QsT0FBQTlELEVBdkJBLEdDQUEsV0FDQSxJQUFBQSxFQUFBLEdBQ0ErRCxFQUFBbkQsU0FBQUMsY0FBQSxlQUVBbUQsSUFBQXBELFNBQUFDLGNBQUEsUUFFQWIsRUFBQWlFLEtBQUEsV0FDQUYsRUFBQTNCLGlCQUFBLFFBQUEsV0FDQTRCLElBQUF0QyxVQUFBd0MsT0FBQSxZQUVBLGdCQUFBRixJQUFBMUMsV0FDQTBDLElBQUE1QixpQkFBQSxRQUFBLFdBQ0E0QixJQUFBdEMsVUFBQU8sT0FBQSxpQkFNQWxDLFFBQUFvRSxPQUFBbkUsRUFsQkEsR0NBQSxXQUNBLElBQUFBLEVBQUEsR0FDQW9FLEVBQUF4RCxTQUFBRyxpQkFBQSwyQkFDQXNELEVBQUF6RCxTQUFBRyxpQkFBQSxtQkFDQXVELEVBQUExRCxTQUFBQyxjQUFBLFFBQ0FYLEVBQUFVLFNBQUFDLGNBQUEsZ0JBQ0FSLEVBQUFPLFNBQUFDLGNBQUEsb0JBQ0FOLEVBQUFLLFNBQUFDLGNBQUEsWUFHQWIsRUFBQXVFLGFBQUEsMkNBQ0F2RSxFQUFBd0UsVUFBQSxnQ0FDQXhFLEVBQUF5RSxnQkFBQSxvQkFDQXpFLEVBQUEwRSxtQkFBQSxrQkFHQTFFLEVBQUEyRSxPQUFBLFdBQ0EzRSxFQUFBNEUsV0FDQTVFLEVBQUE2RSxvQkFDQTdFLEVBQUE4RSxVQUdBOUUsRUFBQTRFLFNBQUEsV0FDQU4sRUFBQWxDLGlCQUFBLFNBQUFwQyxFQUFBK0UsVUFHQS9FLEVBQUE2RSxrQkFBQSxXQUNBLElBQUEsSUFBQTlDLEVBQUEsRUFBQUEsRUFBQXNDLEVBQUFyQyxPQUFBRCxJQUNBc0MsRUFBQXRDLEdBQUFLLGlCQUFBLFVBQUEsU0FBQW5CLEdBQ0FBLEVBQUFJLE9BQUF3RCxrQkFBQSxJQUNBNUQsRUFBQUksT0FBQTJELFNBQUF0RSxPQUNBTyxFQUFBSSxPQUFBd0Qsa0JBQUEsMkNBSUFSLEVBQUF0QyxHQUFBSyxpQkFBQSxRQUFBLFNBQUFuQixHQUNBQSxFQUFBSSxPQUFBd0Qsa0JBQUEsT0FNQTdFLEVBQUE4RSxPQUFBLFdBQ0EsSUFBQSxJQUFBL0MsRUFBQSxFQUFBQSxFQUFBc0MsRUFBQXJDLE9BQUFELElBQ0FzQyxFQUFBdEMsR0FBQUssaUJBQUEsT0FBQSxTQUFBbkIsR0FDQSxJQUFBZ0UsRUFBQWxGLFFBQUFXLE1BQUFULFFBQUFnQixFQUFBSSxPQUFBNkQsT0FDQUMsRUFBQXBGLFFBQUFXLE1BQUFOLE9BQUFhLEVBQUFJLE9BQUE2RCxPQUNBRSxFQUFBckYsUUFBQVcsTUFBQUosTUFBQVcsRUFBQUksT0FBQTZELE9BR0FqRSxFQUFBSSxPQUFBRSxNQUFBOEQsT0FBQSxHQUVBcEUsRUFBQUksUUFBQW5CLEdBQUErRSxFQUNBaEUsRUFBQUksT0FBQUUsTUFBQThELE9BQUFyRixFQUFBMEUsbUJBQ0F6RCxFQUFBSSxRQUFBaEIsR0FBQThFLEVBQ0FsRSxFQUFBSSxPQUFBRSxNQUFBOEQsT0FBQXJGLEVBQUEwRSxtQkFDQXpELEVBQUFJLFFBQUFkLEdBQUE2RSxFQUNBbkUsRUFBQUksT0FBQUUsTUFBQThELE9BQUFyRixFQUFBMEUsbUJBQ0EsSUFBQXpELEVBQUFJLE9BQUE2RCxNQUNBakUsRUFBQUksT0FBQUUsTUFBQThELE9BQUEsR0FFQXBFLEVBQUFJLE9BQUFFLE1BQUE4RCxPQUFBckYsRUFBQXlFLG1CQU1BekUsRUFBQStFLFFBQUEsV0FDQS9FLEVBQUFzRixlQUFBbEIsSUFDQW1CLE1BQUF2RixFQUFBdUUsY0FDQXZFLEVBQUF3RixhQUVBRCxNQUFBdkYsRUFBQXdFLFlBS0F4RSxFQUFBc0YsZUFBQSxTQUFBRyxHQUdBLElBRkEsSUFBQUMsR0FBQSxFQUVBM0QsRUFBQSxFQUFBQSxFQUFBMEQsRUFBQXpELE9BQUFELElBQ0EsSUFBQWhDLFFBQUFXLE1BQUFGLFFBQUFpRixFQUFBMUQsR0FBQW1ELE9BQUEsQ0FDQVEsR0FBQSxFQUNBLE1BZ0JBLE9BWkEzRixRQUFBVyxNQUFBVCxRQUFBQyxFQUFBZ0YsU0FDQVEsR0FBQSxHQUdBM0YsUUFBQVcsTUFBQU4sT0FBQUMsRUFBQTZFLFNBQ0FRLEdBQUEsR0FHQTNGLFFBQUFXLE1BQUFKLE1BQUFDLEVBQUEyRSxTQUNBUSxHQUFBLEdBR0FBLEdBR0ExRixFQUFBd0YsVUFBQSxXQUNBLElBQUEsSUFBQXpELEVBQUEsRUFBQUEsRUFBQXNDLEVBQUFyQyxPQUFBRCxJQUNBc0MsRUFBQXRDLEdBQUFtRCxNQUFBLEdBQ0FiLEVBQUF0QyxHQUFBUixNQUFBOEQsT0FBQSxJQUlBdEYsUUFBQTRGLFlBQUEzRixFQTdHQSxHQ0FBLFdBQ0EsSUFBQUEsRUFBQSxHQUNBNEYsRUFBQWhGLFNBQUFDLGNBQUEsY0FDQWdGLEVBQUFqRixTQUFBQyxjQUFBLGNBQ0FpRixFQUFBbEYsU0FBQUcsaUJBQUEsaUJBRUFnRixHQURBbkYsU0FBQUMsY0FBQSxnQkFDQUQsU0FBQUMsY0FBQSxrQkFDQW1GLEVBQUFwRixTQUFBRyxpQkFBQSxrQkFFQWYsRUFBQXlCLElBQUEsQ0FBQSxtRUFDQSx1REFDQSx3REFDQSw2REFDQSx5REFDQXpCLEVBQUE2QixRQUFBLEVBRUE3QixFQUFBaUcsWUFBQSxXQUNBTCxFQUFBeEQsaUJBQUEsUUFBQSxXQUNBcEMsRUFBQTZCLFFBQUFpRSxFQUFBOUQsT0FBQSxHQUNBOEQsRUFBQTlGLEVBQUE2QixTQUFBTixNQUFBMkUsUUFBQSxPQUNBRixFQUFBaEcsRUFBQTZCLFNBQUFOLE1BQUEyRSxRQUFBLE9BQ0FKLEVBQUE5RixFQUFBNkIsUUFBQSxHQUFBTixNQUFBMkUsUUFBQSxRQUNBRixFQUFBaEcsRUFBQTZCLFFBQUEsR0FBQU4sTUFBQTJFLFFBQUEsUUFDQUgsRUFBQXhFLE1BQUFDLFdBQUF4QixFQUFBeUIsSUFBQXpCLEVBQUE2QixRQUFBLEdBQ0E3QixFQUFBNkIsWUFFQWlFLEVBQUFBLEVBQUE5RCxPQUFBLEdBQUFULE1BQUEyRSxRQUFBLE9BQ0FGLEVBQUFBLEVBQUFoRSxPQUFBLEdBQUFULE1BQUEyRSxRQUFBLE9BQ0FsRyxFQUFBNkIsUUFBQSxFQUNBaUUsRUFBQTlGLEVBQUE2QixTQUFBTixNQUFBMkUsUUFBQSxRQUNBRixFQUFBaEcsRUFBQTZCLFNBQUFOLE1BQUEyRSxRQUFBLFFBQ0FILEVBQUF4RSxNQUFBQyxXQUFBeEIsRUFBQXlCLElBQUF6QixFQUFBNkIsYUFLQTdCLEVBQUFtRyxZQUFBLFdBQ0FOLEVBQUF6RCxpQkFBQSxRQUFBLFdBQ0EsRUFBQXBDLEVBQUE2QixTQUNBaUUsRUFBQTlGLEVBQUE2QixTQUFBTixNQUFBMkUsUUFBQSxPQUNBRixFQUFBaEcsRUFBQTZCLFNBQUFOLE1BQUEyRSxRQUFBLE9BQ0FKLEVBQUE5RixFQUFBNkIsUUFBQSxHQUFBTixNQUFBMkUsUUFBQSxRQUNBRixFQUFBaEcsRUFBQTZCLFFBQUEsR0FBQU4sTUFBQTJFLFFBQUEsUUFDQUgsRUFBQXhFLE1BQUFDLFdBQUF4QixFQUFBeUIsSUFBQXpCLEVBQUE2QixRQUFBLEdBQ0E3QixFQUFBNkIsWUFFQWlFLEVBQUE5RixFQUFBNkIsU0FBQU4sTUFBQTJFLFFBQUEsT0FDQUYsRUFBQWhHLEVBQUE2QixTQUFBTixNQUFBMkUsUUFBQSxPQUNBbEcsRUFBQTZCLFFBQUEsRUFDQWlFLEVBQUFBLEVBQUE5RCxPQUFBLEdBQUFULE1BQUEyRSxRQUFBLFFBQ0FGLEVBQUFGLEVBQUE5RCxPQUFBLEdBQUFULE1BQUEyRSxRQUFBLFFBQ0FILEVBQUF4RSxNQUFBQyxXQUFBeEIsRUFBQXlCLElBQUFxRSxFQUFBOUQsT0FBQSxPQUtBakMsUUFBQXFHLE1BQUFwRyxFQXhEQSxHQ0NBRCxRQUFBWSxLQUFBd0IsVUFDQXBDLFFBQUFZLEtBQUFtQixnQkFDQS9CLFFBQUErRCxPQUFBaEIsTUFDQS9DLFFBQUFvRSxPQUFBRixPQUNBbEUsUUFBQTRGLFlBQUFoQixTQUNBNUUsUUFBQXFHLE1BQUFILGNBQ0FsRyxRQUFBcUcsTUFBQUQiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cucm95YWxFdiA9IHt9OyIsIihmdW5jdGlvbigpe1xuICAgIHZhciBtZSA9IHt9O1xuICAgIFxuICAgIG1lLmlzRW1haWwgPSBmdW5jdGlvbihlbWFpbCkge1xuICAgICAgICB2YXIgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpO1xuICAgIH1cblxuICAgIG1lLmlzTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdmFyIHJlID0gL1tcXHfQsC3Rj10rL2lnO1xuICAgICAgICByZXR1cm4gcmUudGVzdChuYW1lKTtcbiAgICB9XG5cbiAgICBtZS5pc01zZyA9IGZ1bmN0aW9uKG1zZykge1xuICAgICAgICB2YXIgcmUgPSAvW1xcd9CwLdGPXSsvaWc7XG4gICAgICAgIHJldHVybiByZS50ZXN0KG1zZyk7XG4gICAgfVxuXG4gICAgbWUuaXNFbXB0eSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICByZXR1cm4gISFzdHI7XG4gICAgfVxuXG4gICAgcm95YWxFdi52YWxpZCA9IG1lO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBtZSA9IHt9LFxuICAgIGhlcm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlcm9cIiksXG4gICAgcG9pbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb2ludHNcIik7XG5cbiAgbWUuYmdzID0gW1xuICAgIFwidXJsKCcuL2ltYWdlcy9iZzEuanBnJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiLFxuICAgIFwidXJsKCcuL2ltYWdlcy9iZzIuanBnJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiLFxuICAgIFwidXJsKCcuL2ltYWdlcy9iZzMuanBnJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiLFxuICAgIFwidXJsKCcuL2ltYWdlcy9iZzQuanBnJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiXG4gIF07XG4gIG1lLmNvdW50ZXIgPSAxO1xuICBtZS5zdG9wID0gZmFsc2U7XG4gIG1lLnNsaWRlclNwZWVkID0gNTAwMDtcblxuICBtZS5vblBvaW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcG9pbnRzWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgcG9pbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjaGFuZ2VCZyk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNoYW5nZUJnKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbWUuc3RvcCA9IHRydWU7XG4gICAgY2xlYXJBY3RpdmUoKTtcbiAgICBzd2l0Y2ggKGUudGFyZ2V0LmNsYXNzTmFtZSkge1xuICAgICAgY2FzZSBcInBvaW50cyBwb2ludDBcIjpcbiAgICAgICAgaGVyby5zdHlsZS5iYWNrZ3JvdW5kID0gbWUuYmdzWzBdO1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwb2ludHMgcG9pbnQxXCI6XG4gICAgICAgIGhlcm8uc3R5bGUuYmFja2dyb3VuZCA9IG1lLmJnc1sxXTtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicG9pbnRzIHBvaW50MlwiOlxuICAgICAgICBoZXJvLnN0eWxlLmJhY2tncm91bmQgPSBtZS5iZ3NbMl07XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBvaW50cyBwb2ludDNcIjpcbiAgICAgICAgaGVyby5zdHlsZS5iYWNrZ3JvdW5kID0gbWUuYmdzWzNdO1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBtZS5jYXJvdXNlbFN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFtZS5zdG9wKSB7XG4gICAgICBzZXRUaW1lb3V0KHNldFRpbWVyLCBtZS5zbGlkZXJTcGVlZCk7XG4gICAgfVxuICB9O1xuXG4gIG1lLmNhcm91c2VsU3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dChtZS5DYXJvdXNlbFN0YXJ0KTtcbiAgfTtcblxuICBmdW5jdGlvbiBzZXRUaW1lcigpIHtcbiAgICBpZiAobWUuY291bnRlciA8IDQgJiYgIW1lLnN0b3ApIHtcbiAgICAgIGNsZWFyQWN0aXZlKCk7XG4gICAgICBoZXJvLnN0eWxlLmJhY2tncm91bmQgPSBtZS5iZ3NbbWUuY291bnRlcl07XG4gICAgICBwb2ludHNbbWUuY291bnRlcl0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIG1lLmNvdW50ZXIrKztcbiAgICB9IGVsc2UgaWYgKCFtZS5zdG9wKSB7XG4gICAgICBjbGVhckFjdGl2ZSgpO1xuICAgICAgbWUuY291bnRlciA9IDE7XG4gICAgICBoZXJvLnN0eWxlLmJhY2tncm91bmQgPSBtZS5iZ3NbMF07XG4gICAgICBwb2ludHNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICBtZS5jYXJvdXNlbFN0YXJ0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhckFjdGl2ZSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgcG9pbnRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgcm95YWxFdi5oZXJvID0gbWU7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgdmFyIG1lID0ge30sXG4gICAgICAgIGFuY2hvcnMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZio9XCIjXCJdJykpO1xuICAgICAgICBcbiAgICAgICAgbWUuYW5pbWF0aW9uVGltZSA9IDUwMDtcbiAgICAgICAgbWUuZnJhbWVzQ291bnQgPSAxMDA7XG5cbiAgICAgICAgbWUuc3RhcnQgPSBhbmNob3JzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkWSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaXRlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxlciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsQnkgPSBjb29yZFkgLyBtZS5mcmFtZXNDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbEJ5ID4gd2luZG93LnBhZ2VZT2Zmc2V0IC0gY29vcmRZICYmIHdpbmRvdy5pbm5lckhlaWdodCArIHdpbmRvdy5wYWdlWU9mZnNldCA8IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgc2Nyb2xsQnkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGNvb3JkWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHNjcm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG1lLmFuaW1hdGlvblRpbWUgLyBtZS5mcmFtZXNDb3VudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgcm95YWxFdi5zY3JvbGwgPSBtZTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuXHR2YXIgbWUgPSB7fSxcblx0IFx0YnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9idXR0b24nKTtcblxuXHQgXHRuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2Jyk7XG5cblx0IFx0bWUub3BlbiA9IGZ1bmN0aW9uKCkge1xuXHQgXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cdCBcdFx0XHRuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2X3Nob3cnKTtcblxuXHQgXHRcdFx0aWYgKG5hdi5jbGFzc05hbWUgPT0gJ25hdiBuYXZfc2hvdycpIHtcblx0XHRcdCBcdFx0bmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHRcdCBcdFx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2X3Nob3cnKTtcblx0XHRcdCBcdFx0fSk7XG5cdFx0IFx0XHR9XG5cdCBcdFx0fSk7XG5cdCBcdH1cblxuXHQgXHRyb3lhbEV2Lm1vYmlsZSA9IG1lO1xufSkoKTsiLCIoZnVuY3Rpb24oKXtcbiAgICB2YXIgbWUgPSB7fSxcbiAgICAgICAgcmVxdWlyZWRGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWxpZD1cInJlcXVpcmVkXCJdJyksXG4gICAgICAgIGFsbEZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0c19faXRlbScpLFxuICAgICAgICBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpLFxuICAgICAgICBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPWVtYWlsXScpLFxuICAgICAgICBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT10ZXh0XScpLFxuICAgICAgICBtc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xuICAgICAgICBcblxuICAgICAgICBtZS5hbGVydFN1Y2Nlc3MgPSAnWW91ciBtZXNzYWdlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBzZW50Lic7XG4gICAgICAgIG1lLmFsZXJ0RmFpbCA9ICdBbGwgZmllbGRzIG11c3QgYmUgZmlsbGVkIG91dCc7XG4gICAgICAgIG1lLmZhaWxCb3JkZXJTdHlsZSA9ICcxcHggc29saWQgI0ZBODA3Mic7XG4gICAgICAgIG1lLnN1Y2Nlc3NCb3JkZXJTdHlsZSA9ICcxcHggc29saWQgZ3JlZW4nO1xuXG5cbiAgICBtZS5vbkxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbWUub25TdWJtaXQoKTtcbiAgICAgICAgbWUuc2V0Q3VzdG9tVmFsaWRpdHkoKTtcbiAgICAgICAgbWUub25CbHVyKCk7XG4gICAgfVxuXG4gICAgbWUub25TdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBtZS5pc1ZhbGlkKTtcbiAgICB9XG5cbiAgICBtZS5zZXRDdXN0b21WYWxpZGl0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYWxsRmllbGRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2ludmFsaWQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnNldEN1c3RvbVZhbGlkaXR5KFwiXCIpO1xuICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zZXRDdXN0b21WYWxpZGl0eShcIlBsZWFzZSBmaWxsIG91dCB0aGlzIGZpZWxkIGNvcnJlY3RseS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFsbEZpZWxkc1tpXS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc2V0Q3VzdG9tVmFsaWRpdHkoXCJcIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWUub25CbHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhbGxGaWVsZHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW1haWxUcnVlID0gcm95YWxFdi52YWxpZC5pc0VtYWlsKGUudGFyZ2V0LnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVRydWUgPSByb3lhbEV2LnZhbGlkLmlzTmFtZShlLnRhcmdldC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIG1zZ1RydWUgPSByb3lhbEV2LnZhbGlkLmlzTXNnKGUudGFyZ2V0LnZhbHVlKTtcblxuXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyID0gJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAoKGUudGFyZ2V0ID09IGVtYWlsKSAmJiBlbWFpbFRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyID0gbWUuc3VjY2Vzc0JvcmRlclN0eWxlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGUudGFyZ2V0ID09IG5hbWUpICYmIG5hbWVUcnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLmJvcmRlciA9IG1lLnN1Y2Nlc3NCb3JkZXJTdHlsZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChlLnRhcmdldCA9PSBtc2cpICYmIG1zZ1RydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyID0gbWUuc3VjY2Vzc0JvcmRlclN0eWxlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQudmFsdWUgPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuYm9yZGVyID0gbWUuZmFpbEJvcmRlclN0eWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtZS5pc1ZhbGlkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChtZS5pc0FsbENvbXBsZXRlZChyZXF1aXJlZEZpZWxkcykpIHtcbiAgICAgICAgICAgIGFsZXJ0KG1lLmFsZXJ0U3VjY2Vzcyk7XG4gICAgICAgICAgICBtZS5jbGVhckZvcm0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KG1lLmFsZXJ0RmFpbCk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1lLmlzQWxsQ29tcGxldGVkID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghcm95YWxFdi52YWxpZC5pc0VtcHR5KGRhdGFbaV0udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJveWFsRXYudmFsaWQuaXNFbWFpbChlbWFpbC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyb3lhbEV2LnZhbGlkLmlzTmFtZShuYW1lLnZhbHVlKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghcm95YWxFdi52YWxpZC5pc01zZyhtc2cudmFsdWUpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfSBcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIG1lLmNsZWFyRm9ybSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFsbEZpZWxkc1tpXS52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYWxsRmllbGRzW2ldLnN0eWxlLmJvcmRlciA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcm95YWxFdi5mb3JtQ29udGFjdCA9IG1lO1xufSgpKTsiLCIoZnVuY3Rpb24oKXtcblx0dmFyIG1lID0ge30sXG5cdFx0bmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXN0aU5leHQnKSxcblx0XHRwcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rlc3RpUHJldicpLFxuXHRcdHF1b3RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXN0aV9fcXVvdGUnKSxcblx0XHRpdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3RpX19pdGVtJyksXG5cdFx0aW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdGlfX2ltYWdlJyksXG5cdFx0YXV0aG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlc3RpX19hdXRob3InKTtcblx0XHRcblx0XHRtZS5iZ3MgPSBbIFwiI2ZmZiB1cmwoJy4vaW1hZ2VzL3Rlc3RpX2l0ZW1faW1hZ2UucG5nJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiLFxuXHRcdFx0XHRcIiNmZmYgdXJsKCcuL2ltYWdlcy9qb2JzLnBuZycpIGNlbnRlci9jb3ZlciBuby1yZXBlYXRcIixcblx0XHRcdFx0XCIjZmZmIHVybCgnLi9pbWFnZXMvZ2F0ZXMucG5nJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiLFxuXHRcdFx0XHRcIiNmZmYgdXJsKCcuL2ltYWdlcy96dWNrZXJiZXJnLnBuZycpIGNlbnRlci9jb3ZlciBuby1yZXBlYXRcIixcblx0XHRcdFx0XCIjZmZmIHVybCgnLi9pbWFnZXMvYmV6b3MucG5nJykgY2VudGVyL2NvdmVyIG5vLXJlcGVhdFwiXTtcblx0XHRtZS5jb3VudGVyID0gMDtcdFx0XG5cblx0bWUuZ29OZXh0VGVzdGkgPSBmdW5jdGlvbigpIHtcblx0XHRuZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAobWUuY291bnRlciA8IHF1b3Rlcy5sZW5ndGgtMSkge1xuXHRcdFx0XHRxdW90ZXNbbWUuY291bnRlcl0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0YXV0aG9yW21lLmNvdW50ZXJdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdHF1b3Rlc1ttZS5jb3VudGVyKzFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0XHRhdXRob3JbbWUuY291bnRlcisxXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0aW1hZ2Uuc3R5bGUuYmFja2dyb3VuZCA9IG1lLmJnc1ttZS5jb3VudGVyKzFdO1xuXHRcdFx0XHRtZS5jb3VudGVyKys7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRxdW90ZXNbcXVvdGVzLmxlbmd0aC0xXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHRhdXRob3JbYXV0aG9yLmxlbmd0aC0xXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHRtZS5jb3VudGVyID0gMDtcblx0XHRcdFx0cXVvdGVzW21lLmNvdW50ZXJdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0XHRhdXRob3JbbWUuY291bnRlcl0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdGltYWdlLnN0eWxlLmJhY2tncm91bmQgPSBtZS5iZ3NbbWUuY291bnRlcl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRtZS5nb1ByZXZUZXN0aSA9IGZ1bmN0aW9uKCkge1xuXHRcdHByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdGlmIChtZS5jb3VudGVyID4gMCkge1xuXHRcdFx0XHRxdW90ZXNbbWUuY291bnRlcl0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0YXV0aG9yW21lLmNvdW50ZXJdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdHF1b3Rlc1ttZS5jb3VudGVyLTFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdFx0XHRhdXRob3JbbWUuY291bnRlci0xXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0aW1hZ2Uuc3R5bGUuYmFja2dyb3VuZCA9IG1lLmJnc1ttZS5jb3VudGVyLTFdO1xuXHRcdFx0XHRtZS5jb3VudGVyLS07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRxdW90ZXNbbWUuY291bnRlcl0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0YXV0aG9yW21lLmNvdW50ZXJdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdG1lLmNvdW50ZXIgPSA0O1xuXHRcdFx0XHRxdW90ZXNbcXVvdGVzLmxlbmd0aC0xXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0YXV0aG9yW3F1b3Rlcy5sZW5ndGgtMV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdGltYWdlLnN0eWxlLmJhY2tncm91bmQgPSBtZS5iZ3NbcXVvdGVzLmxlbmd0aC0xXTtcblx0XHRcdH1cdFxuXHRcdH0pO1xuXHR9XG5cblx0cm95YWxFdi50ZXN0aSA9IG1lO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG5cdHJveWFsRXYuaGVyby5vblBvaW50KCk7XG5cdHJveWFsRXYuaGVyby5jYXJvdXNlbFN0YXJ0KCk7XG5cdHJveWFsRXYuc2Nyb2xsLnN0YXJ0O1xuXHRyb3lhbEV2Lm1vYmlsZS5vcGVuKCk7XG5cdHJveWFsRXYuZm9ybUNvbnRhY3Qub25Mb2FkKCk7XG5cdHJveWFsRXYudGVzdGkuZ29OZXh0VGVzdGkoKTtcblx0cm95YWxFdi50ZXN0aS5nb1ByZXZUZXN0aSgpO1xufSkoKTsiXX0=
